{"ast":null,"code":"var _s = $RefreshSig$();\n// blockCahin.js\nimport { useState, useEffect } from 'react';\nimport Web3 from 'web3';\nimport WillSystemABI from '../smartContract/will_system.json';\nexport default function BlockChainLogHook() {\n  _s();\n  const [web3, setWeb3] = useState(null);\n  const [contract, setContract] = useState(null);\n  const [result, setResult] = useState([{}]);\n  console.log(process.env.REACT_APP_API_URL);\n  console.log(process.env.REACT_APP_RPC_URL);\n  console.log(process.env.REACT_APP_CHAIN_ID);\n  console.log('process.env.REACT_APP_CONTRACT_ADDRESS: ', process.env.REACT_APP_CONTRACT_ADDRESS);\n  // console.log(WillSystemABI);\n\n  useEffect(() => {\n    async function init() {\n      const web3 = new Web3(new Web3.providers.HttpProvider(process.env.REACT_APP_RPC_URL));\n      setWeb3(web3);\n      const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\n      const contract = new web3.eth.Contract(WillSystemABI, contractAddress);\n      setContract(contract);\n      try {\n        const res = await contract.methods.getLogs().call();\n        setResult(res);\n        console.log(res);\n      } catch (e) {\n        console.log(e);\n      }\n    } // init() 함수 끝\n\n    init(); // 비동기 함수 호출\n  }, []);\n  return result;\n}\n_s(BlockChainLogHook, \"mCLB/VVdlwNMRpLftkKAgOIdqgA=\");\n_c = BlockChainLogHook;\nvar _c;\n$RefreshReg$(_c, \"BlockChainLogHook\");","map":{"version":3,"names":["useState","useEffect","Web3","WillSystemABI","BlockChainLogHook","_s","web3","setWeb3","contract","setContract","result","setResult","console","log","process","env","REACT_APP_API_URL","REACT_APP_RPC_URL","REACT_APP_CHAIN_ID","REACT_APP_CONTRACT_ADDRESS","init","providers","HttpProvider","contractAddress","eth","Contract","res","methods","getLogs","call","e","_c","$RefreshReg$"],"sources":["C:/Users/SSAFY/Desktop/react/S10P22C208/frontend/src/hooks/blockChainLog.js"],"sourcesContent":["// blockCahin.js\r\nimport { useState, useEffect } from 'react';\r\nimport Web3 from 'web3';\r\nimport WillSystemABI from '../smartContract/will_system.json';\r\n\r\n\r\n\r\nexport default function BlockChainLogHook () {\r\n\r\n  const [web3, setWeb3] = useState(null);\r\n  const [contract, setContract] = useState(null);\r\n  const [result, setResult] = useState([{}]);\r\n\r\n  console.log(process.env.REACT_APP_API_URL);\r\n  console.log(process.env.REACT_APP_RPC_URL);\r\n  console.log(process.env.REACT_APP_CHAIN_ID);\r\n  console.log('process.env.REACT_APP_CONTRACT_ADDRESS: ', process.env.REACT_APP_CONTRACT_ADDRESS);\r\n  // console.log(WillSystemABI);\r\n\r\n  useEffect(() => {\r\n  async function init() {\r\n    const web3 = new Web3(new Web3.providers.HttpProvider(process.env.REACT_APP_RPC_URL));\r\n    setWeb3(web3);\r\n\r\n    const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\r\n    const contract = new web3.eth.Contract(WillSystemABI, contractAddress);\r\n    setContract(contract);\r\n\r\n    try {\r\n      const res = await contract.methods.getLogs().call();\r\n      setResult(res);\r\n      console.log(res);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    \r\n\r\n\r\n\r\n  } // init() 함수 끝\r\n\r\n  init(); // 비동기 함수 호출\r\n}, []);\r\n  return result\r\n} "],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,aAAa,MAAM,mCAAmC;AAI7D,eAAe,SAASC,iBAAiBA,CAAA,EAAI;EAAAC,EAAA;EAE3C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAE1CY,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAC;EAC1CJ,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACE,iBAAiB,CAAC;EAC1CL,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACG,kBAAkB,CAAC;EAC3CN,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEC,OAAO,CAACC,GAAG,CAACI,0BAA0B,CAAC;EAC/F;;EAEAlB,SAAS,CAAC,MAAM;IAChB,eAAemB,IAAIA,CAAA,EAAG;MACpB,MAAMd,IAAI,GAAG,IAAIJ,IAAI,CAAC,IAAIA,IAAI,CAACmB,SAAS,CAACC,YAAY,CAACR,OAAO,CAACC,GAAG,CAACE,iBAAiB,CAAC,CAAC;MACrFV,OAAO,CAACD,IAAI,CAAC;MAEb,MAAMiB,eAAe,GAAGT,OAAO,CAACC,GAAG,CAACI,0BAA0B;MAC9D,MAAMX,QAAQ,GAAG,IAAIF,IAAI,CAACkB,GAAG,CAACC,QAAQ,CAACtB,aAAa,EAAEoB,eAAe,CAAC;MACtEd,WAAW,CAACD,QAAQ,CAAC;MAErB,IAAI;QACF,MAAMkB,GAAG,GAAG,MAAMlB,QAAQ,CAACmB,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;QACnDlB,SAAS,CAACe,GAAG,CAAC;QACdd,OAAO,CAACC,GAAG,CAACa,GAAG,CAAC;MAClB,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVlB,OAAO,CAACC,GAAG,CAACiB,CAAC,CAAC;MAChB;IAKF,CAAC,CAAC;;IAEFV,IAAI,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EACJ,OAAOV,MAAM;AACf;AAACL,EAAA,CArCuBD,iBAAiB;AAAA2B,EAAA,GAAjB3B,iBAAiB;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}